@(controller: de.htwg.se.Shogi.controller.controllerComponent.ControllerInterface, size: Int)

@getPlayerIcon(col: Int, row: Int) = @{
    val player = if(getPlayerOfPiece(col, row)) "1" else "2"
    "images/player" + player + "/1000x1000/" + cellPieceFullName(col, row) + ".png"
}

@boardArray = @{
    controller.boardToArray()
}

@cell(col: Int, row: Int) = @{
    boardArray(col)(row).toString
}

@cellPieceFullName(col: Int, row: Int) = @{
    boardArray(col)(row).toStringLong
}

@getPlayerOfPiece(col: Int, row: Int) = @{
    boardArray(col)(row).isFirstOwner
}

@playerContainer_1() = @{
    controller.getContainer._1.mkString(", ")
}

@playerContainer_2() = @{
    controller.getContainer._2.mkString(", ")
}

@getPosMoves(col: Int, row: Int) = @{
    controller.getPossibleMoves((col, row)).mkString("-")
}

@getPosMovesConquered(piece: String) = @{
    controller.getPossibleMovesConqueredPiece(piece).mkString("-")
}


@main("Shogi Gamefield") {
    <div id="PlayingField" class="gamefield">
        @*-------------------------------------------------------------------------------------------------*@
        <div id="player1Container" class="playerContainer" >
            <div v-on:click="pieceClicked($event)" v-bind="{id: piece.name}" class="conquered btn btn-primary" v-for="piece in playerFirstCon" :key="piece.id">
                <label v-bind="{id: 'Label_' + piece.name }" style="display: none;">{{ piece.posMovs }}</label>
                <img class="img_style" v-bind="{src: piece.img}" alt=""/>
            </div>
            <img v-if="playerFirstCon.length === 0" class="img_style" style="opacity: 0;" />
        </div>
        @*-------------------------------------------------------------------------------------------------*@
        <div>
            <div class="table buttonbarcontainer">
                <div class="rowGroup btn-group" v-for="(i, row) in size">
                    <div v-on:click="pieceClicked($event)" v-bind="{id: col +'-' + row}" class="cell btn btn-primary" v-for="(i, col) in size">
                        <label v-bind="{id: 'Label_'+col +'-' + row }"
                        style="display: none;" >{{ posMoves[(col * 9) + row] }}</label>
                        <img v-if="img[(col * 9) + row] !== '/assets/images/player2/1000x1000/EmptyPiece.png'" class="img_style" v-bind="{src: img[(col * 9) + row] }" alt=""/>
                        <img v-else class="img_style" style="opacity: 0;" />
                    </div>
                </div>
            </div>
        </div>
        @*-------------------------------------------------------------------------------------------------*@
        <div id="player2Container" class="playerContainer" >
            <div v-on:click="pieceClicked($event)" v-bind="{id: piece.name}" class="conquered btn btn-primary" v-for="piece in playerSecondCon" :key="piece.id">
                <label v-bind="{id: 'Label_' + piece.name }" style="display: none;">{{ piece.posMovs }}</label>
                <img v-if="piece.img !== '/assets/images/player2/1000x1000/EmptyPiece.png'" class="img_style" v-bind="{src: piece.img}" alt=""/>
                <img v-else class="img_style" style="opacity: 0;" />
            </div>
            <img v-if="playerSecondCon.length === 0" class="img_style" style="opacity: 0;" />
        </div>
    </div>
}





