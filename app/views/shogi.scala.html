@(controller: de.htwg.se.Shogi.controller.controllerComponent.ControllerInterface, size: Int)

@getPlayerIcon(col: Int, row: Int) = @{
    val player = if(getPlayerOfPiece(col, row)) "1" else "2"
    "images/player" + player + "/50x50/" + cellPieceFullName(col, row) + "_50x50.png"
}

@boardArray = @{
    controller.boardToArray()
}

@cell(col: Int, row: Int) = @{
    boardArray(col)(row).toString
}

@cellPieceFullName(col: Int, row: Int) = @{
    boardArray(col)(row).toStringLong
}

@getPlayerOfPiece(col: Int, row: Int) = @{
    boardArray(col)(row).isFirstOwner
}

@playerContainer_1() = @{
    controller.getContainer._1.mkString(", ")
}

@playerContainer_2() = @{
    controller.getContainer._2.mkString(", ")
}


@main("Shogi Gamefield") {
    <div class="gamefield">
        <div class="playerContainer">
            @for(piece <- controller.getContainer._1){
                @if(piece.toStringLong.trim.nonEmpty) {
                    <img src="@routes.Assets.versioned("images/player1/50x50/" + piece.toStringLong + "_50x50.png")" width="50" height="50"/>
                }
            }
            @if(controller.getContainer._1.isEmpty){
                <img style="opacity: 0;" width="50" height="50"/>
            }
        </div>


        <div class="table">
        @for(row <- 0 until size) {
            <div class="rowGroup">
            @for(col <- 0 until size) {
                <div class="cell" col=@col row=@row>
                    @* @cell(col, row)&nbsp;*@
                    @if(cell(col, row).trim.nonEmpty) {
                        <img src="@routes.Assets.versioned(getPlayerIcon(col, row))" width="50" height="50"/>
                    } else {
                        <img style="opacity: 0;" width="50" height="50"/>
                    }
                </div>
            }
            </div>
        }
        </div>
        <div class="playerContainer">
            @for(piece <- controller.getContainer._2){
                @if(piece.toStringLong.trim.nonEmpty) {
                    <img src="@routes.Assets.versioned("images/player2/50x50/" + piece.toStringLong + "_50x50.png")" width="50" height="50"/>
                }
            }
            @if(controller.getContainer._2.isEmpty){
                <img style="opacity: 0;" width="50" height="50"/>
            }
        </div>
    </div>
}





